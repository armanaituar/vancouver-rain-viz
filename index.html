<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Vancouver Precipitation Patterns</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { 
            margin: 0; 
            font-family: system-ui, -apple-system, sans-serif;
            background: white;
        }
        .container { 
            padding: 20px; 
            max-width: 1200px;
            margin: 0 auto;
        }
        .graph-container { 
            margin-bottom: 60px; 
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="monthlyChart" class="graph-container"></div>
        <div id="dailyChart" class="graph-container"></div>
        <div id="dropletChart" class="graph-container"></div>
        <div id="materialChart" class="graph-container"></div>
    </div>

    <script>
        // Monthly precipitation data
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        const precipitation = [168, 112, 114, 89, 65, 54, 41, 41, 51, 121, 182, 182];

        // Create the monthly bar chart
        const monthlyData = [{
            x: months,
            y: precipitation,
            type: 'bar',
            marker: {color: '#2196F3'},
            name: 'Monthly Rainfall'
        }];

        const monthlyLayout = {
            title: 'Monthly Precipitation in Vancouver',
            xaxis: {title: 'Month'},
            yaxis: {title: 'Precipitation (mm)'},
            height: 500,
        };

        Plotly.newPlot('monthlyChart', monthlyData, monthlyLayout);

        // Daily patterns data
        const hours = Array.from({length: 24}, (_, i) => i.toString().padStart(2, '0') + ':00');
        
        // Winter intensity
        const winterIntensity = [0.3, 0.4, 0.5, 0.6, 0.7, 0.6, 0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 
                                0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.2];
        
        // Summer intensity
        const summerIntensity = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.2, 0.2, 0.3, 
                                0.3, 0.4, 0.5, 0.5, 0.4, 0.3, 0.2, 0.1, 0.1, 0.1, 0.1, 0.1];

        const dailyData = [
    {
        x: hours,
        y: winterIntensity,
        type: 'scatter',
        mode: 'lines',
        name: 'Winter Rain Intensity',
        line: {
            color: '#2196F3',
            shape: 'spline',  // Makes the line smoother
            width: 3         // Makes the line more visible
        }
    },
    {
        x: hours,
        y: summerIntensity,
        type: 'scatter',
        mode: 'lines',
        name: 'Summer Rain Intensity',
        line: {
            color: '#FF9800',
            shape: 'spline',  // Makes the line smoother
            width: 3         // Makes the line more visible
        }
    }
];

const dailyLayout = {
    title: '24-Hour Rain Intensity Patterns',
    xaxis: {
        title: 'Hour of Day',
        tickmode: 'array',
        ticktext: hours,
        tickvals: hours
    },
    yaxis: {
        title: 'Rain Intensity (mm/hr)',
        range: [0, 0.8],
        dtick: 0.1,        // Sets tick marks every 0.1 units
        gridwidth: 1,      // Makes grid lines thinner
        zeroline: true     // Emphasizes the zero line
    },
    height: 500,
    showlegend: true,
    plot_bgcolor: 'white',  // White background
    paper_bgcolor: 'white', // White surrounding
    margin: {              // Adjust margins
        l: 60,
        r: 30,
        t: 50,
        b: 50
    }
};

        Plotly.newPlot('dailyChart', dailyData, dailyLayout);

        const dropletData = [
            {
                x: ['Drizzle', 'Light Rain', 'Moderate Rain', 'Heavy Rain', 'Very Heavy Rain'],
                y: [0.2, 0.5, 2.0, 3.0, 5.0],
                name: 'Droplet Size (mm)',
                type: 'scatter',
                mode: 'lines+markers',
                line: {
                    color: '#8884d8',
                    width: 3,
                    shape: 'spline'
                }
            },
            {
                x: ['Drizzle', 'Light Rain', 'Moderate Rain', 'Heavy Rain', 'Very Heavy Rain'],
                y: [0.7, 2.0, 4.0, 6.0, 9.0],
                name: 'Terminal Velocity (m/s)',
                type: 'scatter',
                mode: 'lines+markers',
                line: {
                    color: '#82ca9d',
                    width: 3,
                    shape: 'spline'
                }
            },
            {
                x: ['Drizzle', 'Light Rain', 'Moderate Rain', 'Heavy Rain', 'Very Heavy Rain'],
                y: [1.0, 2.5, 5.0, 7.6, 10.0],
                name: 'Intensity (mm/hr)',
                type: 'scatter',
                mode: 'lines+markers',
                line: {
                    color: '#ffc658',
                    width: 3,
                    shape: 'spline'
                }
            }
        ];

        const dropletLayout = {
            title: 'Raindrop Characteristics by Rain Type',
            xaxis: {
                title: 'Rain Type'
            },
            yaxis: {
                title: 'Value',
                zeroline: true
            },
            height: 500,
            showlegend: true,
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            margin: {
                l: 60,
                r: 30,
                t: 50,
                b: 50
            }
        };

        Plotly.newPlot('dropletChart', dropletData, dropletLayout);

         const materialData = [
            {
                x: ['Stone', 'Wood', 'Modern Concrete', 'Glass/Steel', 'Living Walls'],
                y: [100, 50, 75, 40, 30],
                name: 'Lifespan (years)',
                type: 'bar',
                marker: {color: '#8884d8'}
            },
            {
                x: ['Stone', 'Wood', 'Modern Concrete', 'Glass/Steel', 'Living Walls'],
                y: [20, 70, 30, 60, 85],
                name: 'Maintenance Needs',
                type: 'bar',
                marker: {color: '#82ca9d'}
            },
            {
                x: ['Stone', 'Wood', 'Modern Concrete', 'Glass/Steel', 'Living Walls'],
                y: [60, 80, 20, 10, 95],
                name: 'Water Permeability',
                type: 'bar',
                marker: {color: '#ffc658'}
            },
            {
                x: ['Stone', 'Wood', 'Modern Concrete', 'Glass/Steel', 'Living Walls'],
                y: [90, 95, 40, 30, 100],
                name: 'Natural Harmony',
                type: 'bar',
                marker: {color: '#ff7300'}
            }
        ];

        const materialLayout = {
            title: 'Building Material Performance Metrics',
            barmode: 'group',
            xaxis: {
                title: 'Material Type'
            },
            yaxis: {
                title: 'Score',
                range: [0, 100],
                ticksuffix: '%'
            },
            height: 500,
            showlegend: true,
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            margin: {
                l: 60,
                r: 30,
                t: 50,
                b: 50
            }
        };

        Plotly.newPlot('materialChart', materialData, materialLayout);
    </script>
</body>
</html>
